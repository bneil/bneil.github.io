<!doctype html><html><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><title>unikernel-and-wasm-part-2 - bneil.me</title><meta name=viewport content="width=device-width,initial-scale=1">
<meta name=description content="In which I continue attempting to talk about unikernels, wasm and docker"><meta property="og:image" content><meta property="og:title" content="unikernel-and-wasm-part-2"><meta property="og:description" content="In which I continue attempting to talk about unikernels, wasm and docker"><meta property="og:type" content="article"><meta property="og:url" content="https://bneil.me/posts/2023-11-16-unikernel-and-wasm-part-2/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-11-16T18:15:09+00:00"><meta property="article:modified_time" content="2023-11-16T14:25:57-07:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="unikernel-and-wasm-part-2"><meta name=twitter:description content="In which I continue attempting to talk about unikernels, wasm and docker"><script src=https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js></script><link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@1,500&display=swap" rel=stylesheet><link href="https://fonts.googleapis.com/css2?family=Fira+Sans&display=swap" rel=stylesheet><link href="https://fonts.googleapis.com/css?family=Roboto+Mono" rel=stylesheet><link rel=stylesheet type=text/css media=screen href=https://bneil.me/css/main.ac08a4c9714baa859217f92f051deb58df2938ec352b506df655005dcaf98cc0.css><link id=darkModeStyle rel=stylesheet type=text/css href=https://bneil.me/css/dark.f7f653818008804da30d1735284e5eb1e9c3339332869aa296658b199bea7809.css disabled></head><body><div class=content><header><div class=main><a href=https://bneil.me/>bneil.me</a></div><nav><a href=/>Home</a>
<a href=/contact>Contact</a>
<a href=/resume>Resume</a>
<a href=/about>About</a>
<a href=/posts>Blog</a>
<a href=/tags/notes>Notes</a>
<a href=/now>Now</a>
| <span id=dark-mode-toggle onclick=toggleTheme()></span>
<script src=https://bneil.me/js/themetoggle.js></script></nav></header><main><article class=h-entry><div class=title><h1 class="title p-name">unikernel-and-wasm-part-2</h1><div class=meta>Posted on Nov 16, 2023</div></div><section class="body e-content"><p>In yesterdays post I laid out some of my experiences with unikernels and touched a little little bit on wasm technology. While also throwing some docker into the mix as well, because why not. Im trying to reflect on basically ten years of technologies in those spaces between 2010 and 2020. Then trying laying out what my perceptions of that technology was from a person that truly wants to have optimal efficiency and security taken into account for their underlying application run time environments. So really this is a continuation of just that, where do we run an application and how is it better than another platform.</p><p>So lets just start there, where can you run unikernels in production:</p><p>Public Cloud Providers like GCP or AWS, using something like <a href=https://github.com/solo-io/unik>Unik</a> or using nanovms via <a href=https://nanovms.com/dev/tutorials/deploying-nanos-node-js-unikernels-to-aws>ops.city</a>.</p><p>then for wasm, you can run those in production</p><p>Using WASI, you can launch wasm server side tech on lambda, but so far its been lack luster since its tied directly to node.js rather then having its own dedicated runtime. Other implementations I looked at were <a href=https://wasmcloud.com/>wasmCloud</a> and seeing if that could be used in aws. This was a mixed bag since in 2022 the runtime for lambda was set to read only. In anycase, I haven&rsquo;t had a chance to launch a k8s cluster with wasmCloud, but hopefully ill get some credits to try that later this year.</p><p>wasmtime / wasmer also look like ways to run this stuff on gcp/aws. Again, haven&rsquo;t had a chance yet, but really looking into these as way to run wasm a an api/server kinda setup.
Also haven&rsquo;t tried out wasmer edge, which ive been really wanting to as well, since it looks like a fast way to get up and running to do this.</p><p>alright, well, its like the quote says, if you can do something in under two minutes just do it!</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gdscript3 data-lang=gdscript3><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>Œª</span> wasmer self<span style=color:#f92672>-</span>update
</span></span><span style=display:flex><span>Fetching latest installer
</span></span><span style=display:flex><span>Welcome to the Wasmer bash installer<span style=color:#f92672>!</span>
</span></span><span style=display:flex><span>downloading: wasmer<span style=color:#f92672>-</span>darwin<span style=color:#f92672>-</span>amd64
</span></span><span style=display:flex><span>Latest release: v4<span style=color:#f92672>.</span><span style=color:#ae81ff>2.3</span>
</span></span><span style=display:flex><span>Wasmer already installed <span style=color:#f92672>in</span> <span style=color:#f92672>/</span>Users<span style=color:#f92672>/</span>bneil<span style=color:#f92672>/.</span>wasmer with version: <span style=color:#ae81ff>0.16</span><span style=color:#f92672>.</span><span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>Downloading archive from https:<span style=color:#f92672>//</span>github<span style=color:#f92672>.</span>com<span style=color:#f92672>/</span>wasmerio<span style=color:#f92672>/</span>wasmer<span style=color:#f92672>/</span>releases<span style=color:#f92672>/</span>download<span style=color:#f92672>/</span>v4<span style=color:#f92672>.</span><span style=color:#ae81ff>2.3</span><span style=color:#f92672>/</span>wasmer<span style=color:#f92672>-</span>darwin<span style=color:#f92672>-</span>amd64<span style=color:#f92672>.</span>tar<span style=color:#f92672>.</span>gz
</span></span></code></pre></div><p>I was a little behind on the times. alright, following along <a href=https://wasmer.io/products/edge>here</a></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>~/src/personal via üêç v3.11.6 via üíé v3.1.3
</span></span><span style=display:flex><span>Œª wasmer app create wasmer/hello
</span></span><span style=display:flex><span>error: Unable to find &#34;app&#34; in the registry
</span></span></code></pre></div><p>so looks like the product page may be a little out of date? well maybe not</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>‚ùØ</span> <span style=color:#a6e22e>wasmer</span> <span style=color:#a6e22e>app</span> <span style=color:#a6e22e>create</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>App</span> <span style=color:#66d9ef>type</span>: <span style=color:#a6e22e>HTTP</span> <span style=color:#a6e22e>server</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Who</span> <span style=color:#a6e22e>should</span> <span style=color:#a6e22e>own</span> <span style=color:#a6e22e>this</span> <span style=color:#f92672>package</span><span style=color:#960050;background-color:#1e0010>?</span>: <span style=color:#a6e22e>bneil</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>No</span> <span style=color:#f92672>package</span> <span style=color:#a6e22e>found</span> <span style=color:#a6e22e>or</span> <span style=color:#a6e22e>specified</span>.
</span></span><span style=display:flex><span><span style=color:#a6e22e>Enter</span> <span style=color:#a6e22e>the</span> <span style=color:#a6e22e>name</span> <span style=color:#a6e22e>of</span> <span style=color:#a6e22e>an</span> <span style=color:#a6e22e>existing</span> <span style=color:#f92672>package</span>:
</span></span><span style=display:flex><span><span style=color:#a6e22e>Package</span>: <span style=color:#a6e22e>testing</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>invalid</span> <span style=color:#f92672>package</span> <span style=color:#a6e22e>name</span>: <span style=color:#a6e22e>could</span> <span style=color:#a6e22e>not</span> <span style=color:#a6e22e>parse</span> <span style=color:#a6e22e>webc</span> <span style=color:#f92672>package</span> <span style=color:#a6e22e>specifier</span> <span style=color:#960050;background-color:#1e0010>&#39;</span><span style=color:#a6e22e>testing</span><span style=color:#960050;background-color:#1e0010>&#39;</span>: <span style=color:#f92672>package</span> <span style=color:#a6e22e>namespace</span> <span style=color:#a6e22e>is</span> <span style=color:#a6e22e>required</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Package</span>: <span style=color:#a6e22e>bneil</span>.<span style=color:#a6e22e>testing</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>invalid</span> <span style=color:#f92672>package</span> <span style=color:#a6e22e>name</span>: <span style=color:#a6e22e>could</span> <span style=color:#a6e22e>not</span> <span style=color:#a6e22e>parse</span> <span style=color:#a6e22e>webc</span> <span style=color:#f92672>package</span> <span style=color:#a6e22e>specifier</span> <span style=color:#960050;background-color:#1e0010>&#39;</span><span style=color:#a6e22e>bneil</span>.<span style=color:#a6e22e>testing</span><span style=color:#960050;background-color:#1e0010>&#39;</span>: <span style=color:#f92672>package</span> <span style=color:#a6e22e>namespace</span> <span style=color:#a6e22e>is</span> <span style=color:#a6e22e>required</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Package</span>: <span style=color:#a6e22e>app</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>invalid</span> <span style=color:#f92672>package</span> <span style=color:#a6e22e>name</span>: <span style=color:#a6e22e>could</span> <span style=color:#a6e22e>not</span> <span style=color:#a6e22e>parse</span> <span style=color:#a6e22e>webc</span> <span style=color:#f92672>package</span> <span style=color:#a6e22e>specifier</span> <span style=color:#960050;background-color:#1e0010>&#39;</span><span style=color:#a6e22e>app</span><span style=color:#960050;background-color:#1e0010>&#39;</span>: <span style=color:#f92672>package</span> <span style=color:#a6e22e>namespace</span> <span style=color:#a6e22e>is</span> <span style=color:#a6e22e>required</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Package</span>: <span style=color:#a6e22e>bneil</span><span style=color:#f92672>/</span><span style=color:#a6e22e>testing</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Package</span> <span style=color:#960050;background-color:#1e0010>&#39;</span><span style=color:#a6e22e>bneil</span><span style=color:#f92672>/</span><span style=color:#a6e22e>testing</span><span style=color:#960050;background-color:#1e0010>&#39;</span> <span style=color:#a6e22e>does</span> <span style=color:#a6e22e>not</span> <span style=color:#a6e22e>exist</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Package</span>: <span style=color:#a6e22e>wasmer</span><span style=color:#f92672>/</span><span style=color:#a6e22e>hello</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>What</span> <span style=color:#a6e22e>should</span> <span style=color:#a6e22e>be</span> <span style=color:#a6e22e>the</span> <span style=color:#a6e22e>name</span> <span style=color:#a6e22e>of</span> <span style=color:#a6e22e>the</span> <span style=color:#a6e22e>app</span><span style=color:#960050;background-color:#1e0010>?</span> &lt;<span style=color:#a6e22e>NAME</span>&gt;.<span style=color:#a6e22e>wasmer</span>.<span style=color:#a6e22e>app</span>: <span style=color:#a6e22e>testing</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Would</span> <span style=color:#a6e22e>you</span> <span style=color:#a6e22e>like</span> <span style=color:#a6e22e>to</span> <span style=color:#a6e22e>publish</span> <span style=color:#a6e22e>the</span> <span style=color:#a6e22e>app</span> <span style=color:#a6e22e>now</span><span style=color:#960050;background-color:#1e0010>?</span> <span style=color:#a6e22e>yes</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Creating</span> <span style=color:#a6e22e>the</span> <span style=color:#a6e22e>app</span><span style=color:#f92672>...</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Deploying</span> <span style=color:#a6e22e>app</span> <span style=color:#a6e22e>wasmer</span><span style=color:#f92672>/</span><span style=color:#a6e22e>testing</span><span style=color:#f92672>...</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>error</span>: <span style=color:#a6e22e>could</span> <span style=color:#a6e22e>not</span> <span style=color:#a6e22e>create</span> <span style=color:#a6e22e>app</span> <span style=color:#a6e22e>in</span> <span style=color:#a6e22e>the</span> <span style=color:#a6e22e>backend</span>
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>‚îÇ</span>   <span style=color:#ae81ff>1</span>: <span style=color:#a6e22e>could</span> <span style=color:#a6e22e>not</span> <span style=color:#a6e22e>publish</span> <span style=color:#a6e22e>app</span>
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>‚ï∞‚îÄ‚ñ∂</span> <span style=color:#ae81ff>2</span>: <span style=color:#a6e22e>GraphQL</span> <span style=color:#a6e22e>API</span> <span style=color:#a6e22e>failure</span>: <span style=color:#a6e22e>You</span> <span style=color:#a6e22e>need</span> <span style=color:#a6e22e>to</span> <span style=color:#a6e22e>verify</span> <span style=color:#a6e22e>your</span> <span style=color:#a6e22e>email</span> <span style=color:#a6e22e>before</span> <span style=color:#a6e22e>you</span> <span style=color:#a6e22e>can</span> <span style=color:#a6e22e>perform</span> <span style=color:#a6e22e>this</span> <span style=color:#a6e22e>action</span>.
</span></span><span style=display:flex><span>       <span style=color:#a6e22e>Go</span> <span style=color:#a6e22e>to</span> <span style=color:#a6e22e>https</span>:<span style=color:#75715e>//wasmer.io/settings/profile to verify your email.
</span></span></span></code></pre></div><p>So had a little back and forth on understand that a forward slash would be required and need to check my email. Le sigh, after trying</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>‚ùØ cat app.yaml
</span></span><span style=display:flex><span>---
</span></span><span style=display:flex><span>kind: wasmer.io/App.v0
</span></span><span style=display:flex><span>name: bneil-hello-world
</span></span><span style=display:flex><span>package: wasmer/hello
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Œª wasmer app deploy
</span></span><span style=display:flex><span>error: Unable to find &#34;app&#34; in the registry
</span></span><span style=display:flex><span>‚ï∞‚îÄ‚ñ∂ 1: Not found
</span></span><span style=display:flex><span>src/personal/temp via üíé v3.1.3 on ‚òÅÔ∏è 
</span></span></code></pre></div><p>So im guessing something is up with the &lsquo;kind&rsquo; in that statement. Anyhoot, little bit of a rabbit hole.</p><p>I&rsquo;ll keep trying and report back if I can deploy something on wasmer edge, because it would be very neat and I have a few projects over at vercel that would be great to move onto a wasm platform.</p><h2 id=in-conclusion>In conclusion</h2><p>I think I could do a better job at explaining the reasoning behind why you would want to actually use this technology as well as examples of how to deploy these technologies. So I may just start doing that in upcoming blogs since I feel that the number of topics is a bit to nuanced.</p><p>So, at a high level, unikernels are great and wasm is great and both kinda give similar benefits. While, I still think these are worth while techologies, at least for me, im still learning how to make the best use of these pieces of tech and need to carve out more time to write these things up.</p><p>So I will work towards writing more of that in this blog going forward.</p></section><hr>### comments
<script src=https://utteranc.es/client.js repo=bneil/bneil.github.io issue-term=pathname theme=preferred-color-scheme crossorigin=anonymous async></script><hr>### webmention section<div class=manual-webmention><p>Have you written a <a href=https://indieweb.org/responses>response</a> to this post? Put the url here:</p><form id=manual-webmention action=https://webmention.io/bneil.me/webmention method=post><input type=url name=source>
<input type=hidden name=target value=https://bneil.me/posts/2023-11-16-unikernel-and-wasm-part-2/>
<input type=submit name=submit value=Comment></form></form></div><br><div></div><small>permalink: <a class=u-url href=https://bneil.me/posts/2023-11-16-unikernel-and-wasm-part-2/>https://bneil.me/posts/2023-11-16-unikernel-and-wasm-part-2/</a></small><div class=post-tags><nav class="nav tags"><ul class=tags><li>&nbsp;<a href=/tags/nablopomo2023>NaBloPoMo2023</a></li></ul></nav></div></article></main><hr class=halloween-hr style=width:100%><footer style=border-top:0><a class=soc rel=me href=https://github.com/bneil title=Github><i data-feather=github></i></a>|<a class=soc rel=me href=https://twitter.com/benneil/ title=Twitter><i data-feather=twitter></i></a>|<a class=soc rel=me href=https://www.linkedin.com/in/readyplayer1/ title=LinkedIn><i data-feather=linkedin></i></a>|<a class=soc rel=me href=mailto:ben@neil-concepts.com title=Email><i data-feather=mail></i></a>|<a class=soc rel=me href=https://coderwall.com/bneil title=Coderwall><i data-feather=code></i></a>|<a class=soc rel=me href=https://medium.com/@bneil/about title=Medium><i data-feather=book></i></a>|<a class=soc rel=me href=https://bneil.me/index.xml title=rss><i data-feather=rss></i></a>|‚ö°Ô∏è
2023 ¬© bneil | site was last updated: Nov 24, 2023</footer><link rel=webmention href=https://webmention.io/bneil.me/webmention><link rel=pingback href=https://webmention.io/bneil.me/xmlrpc><div class=h-card style=display:none><span class=p-name>Ben Neil</span>
<span class=p-given-name>Ben</span>
<abbr class=p-additional-name>E.</abbr>
<span class=p-family-name>Neil</span>
<span class=p-nickname>bneil</span> (IRC)
<img class=u-photo src=https://bneil.me/images/avatar.gif>
<a class=u-url href=acct:bneil@bneil.me></a><a class=u-email href=mailto:ben@neil-concepts.com>e</a><div class=p-category>programmer</div><div class=p-note>Automation Mechanic</div><a class="u-url u-uid" href=https://bneil.me/></a></div><script defer src=https://static.cloudflareinsights.com/beacon.min.js data-cf-beacon='{"token": "cc4d2eca67bc471d83269a9e66e60551"}'></script><script>var clicky_site_ids=clicky_site_ids||[];clicky_site_ids.push(101323590)</script><script async src=//static.getclicky.com/js></script><noscript><p><img alt=Clicky width=1 height=1 src=//in.getclicky.com/101323590ns.gif></p></noscript><script async src=https://analytics.umami.is/script.js data-website-id=438d75f5-c8b9-4507-b617-9c4e1f8cdbe1></script><script>feather.replace()</script><div class=stars><div class=star></div><div class=star></div><div class=star></div><div class=star></div><div class=star></div><div class=star></div><div class=star></div><div class=star></div><div class=star></div><div class=star></div><div class=star></div><div class=star></div><div class=star></div><div class=star></div><div class=star></div><div class=star></div><div class=star></div><div class=star></div><div class=star></div><div class=star></div><div class=star></div><div class=star></div><div class=star></div><div class=star></div><div class=star></div><div class=star></div><div class=star></div><div class=star></div><div class=star></div><div class=star></div><div class=star></div><div class=star></div><div class=star></div><div class=star></div><div class=star></div><div class=star></div><div class=star></div><div class=star></div><div class=star></div><div class=star></div><div class=star></div><div class=star></div><div class=star></div><div class=star></div><div class=star></div><div class=star></div><div class=star></div><div class=star></div><div class=star></div><div class=star></div></div></div></body></html>
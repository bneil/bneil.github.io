<!doctype html><html><head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge"><title>Nextjs Crud :: Setup - bneil.me</title><meta name=viewport content="width=device-width,initial-scale=1">
<meta name=description content="A crud app w/ nextjs and typescript">
<meta property="og:image" content>
<meta property="og:title" content="Nextjs Crud :: Setup">
<meta property="og:description" content="A crud app w/ nextjs and typescript">
<meta property="og:type" content="article">
<meta property="og:url" content="https://bneil.me/posts/2021-04-21-nextjs-crud/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2021-04-21T20:06:34-06:00">
<meta property="article:modified_time" content="2021-06-25T10:21:39-06:00">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="Nextjs Crud :: Setup">
<meta name=twitter:description content="A crud app w/ nextjs and typescript">
<script src=https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js></script>
<link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@1,500&display=swap" rel=stylesheet>
<link href="https://fonts.googleapis.com/css2?family=Fira+Sans&display=swap" rel=stylesheet>
<link href="https://fonts.googleapis.com/css?family=Roboto+Mono" rel=stylesheet>
<link rel=stylesheet type=text/css media=screen href=https://bneil.me/css/main.2f9b5946627215dc1ae7fa5f82bfc9cfcab000329136befeea5733f21e77d68f.css>
<link id=darkModeStyle rel=stylesheet type=text/css href=https://bneil.me/css/dark.726cd11ca6eb7c4f7d48eb420354f814e5c1b94281aaf8fd0511c1319f7f78a4.css>
</head>
<body>
<div class=content><header>
<div class=main>
<a href=https://bneil.me>bneil.me</a>
</div>
<nav>
<a href=/>Home</a>
<a href=/contact>Contact</a>
<a href=/resume>Resume</a>
<a href=/about>About</a>
<a href=/posts>Blog</a>
<a href=/tags/notes>Notes</a>
<a href=/now>Now</a>
</nav>
</header>
<main>
<article class=h-entry>
<div class=title>
<h1 class=title>Nextjs Crud :: Setup</h1>
<div class=meta>Posted on Apr 21, 2021</div>
</div>
<section class=body>
<h1 id=setup>Setup</h1>
<p>So the gist of the below is that we are creating a starter nextjs application, typescript, converting to yarn and finally
installing both tailwind css and tailwind jit.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>λ&gt; npx create-next-app nextjs-crud --use-npm --example <span style=color:#e6db74>&#34;https://github.com/vercel/next-learn-starter/tree/master/learn-starter&#34;</span>
λ&gt; cd nextjs-crud
λ&gt; touch tsconfig.json
λ&gt; npm install --save-dev typescript @types/react
λ&gt; rm -f package-lock.json
λ&gt; yarn add -d tailwindcss@latest postcss@latest autoprefixer@latest
λ&gt; npx tailwindcss init -p
λ&gt; yarn add @tailwindcss/jit tailwindcss postcss
</code></pre></div><p>if you want to learn more about the &lsquo;why&rsquo; you should use the jit instead of
using tailwind directly,</p>
<p>The following are just nice to have when cleaning up the code as we go</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>yarn add -D eslint eslint-config-airbnb eslint-config-prettier eslint-plugin-prettier eslint-plugin-react
yarn add -D prettier
</code></pre></div><h3 id=enabling-webpack-5-nextjs>Enabling webpack 5 nextjs</h3>
<p>Just open up the next.config.js and ensure this is set</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=color:#a6e22e>module</span>.<span style=color:#a6e22e>exports</span> <span style=color:#f92672>=</span> {
  <span style=color:#a6e22e>purge</span><span style=color:#f92672>:</span> [
    <span style=color:#e6db74>&#39;./public/**/*.html&#39;</span>,
    <span style=color:#e6db74>&#39;./src/**/*.{js,jsx,ts,tsx}&#39;</span>,
  ],
  <span style=color:#a6e22e>darkMode</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>false</span>, <span style=color:#75715e>// or &#39;media&#39; or &#39;class&#39;
</span><span style=color:#75715e></span>  <span style=color:#a6e22e>theme</span><span style=color:#f92672>:</span> {
    <span style=color:#a6e22e>extend</span><span style=color:#f92672>:</span> {
      <span style=color:#a6e22e>fontFamily</span><span style=color:#f92672>:</span> {
        <span style=color:#e6db74>&#39;big-shoulders&#39;</span><span style=color:#f92672>:</span> [<span style=color:#e6db74>&#39;&#34;Big Shoulders Display&#34;&#39;</span>]
      }
    },
  },
  <span style=color:#a6e22e>variants</span><span style=color:#f92672>:</span> {
    <span style=color:#a6e22e>extend</span><span style=color:#f92672>:</span> {},
  },
  <span style=color:#a6e22e>plugins</span><span style=color:#f92672>:</span> [],
}
</code></pre></div><h3 id=adding-a-custom-font>Adding a custom font</h3>
<p>I really wanted to use a fun font, so I ended up grabbing
&ldquo;big shoulders&rdquo; from google fonts.</p>
<p>So I added the custom font to the _document.tsx page, namily
because that was the place I saw you could inject information into
the head block</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>Document</span>, { <span style=color:#a6e22e>Html</span>, <span style=color:#a6e22e>Head</span>, <span style=color:#a6e22e>Main</span>, <span style=color:#a6e22e>NextScript</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;next/document&#39;</span>

<span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MyDocument</span> <span style=color:#66d9ef>extends</span> <span style=color:#a6e22e>Document</span> {
    <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>async</span> <span style=color:#a6e22e>getInitialProps</span>(<span style=color:#a6e22e>ctx</span>) {
        <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>initialProps</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>Document</span>.<span style=color:#a6e22e>getInitialProps</span>(<span style=color:#a6e22e>ctx</span>)
        <span style=color:#66d9ef>return</span> { ...<span style=color:#a6e22e>initialProps</span> }
    }

    <span style=color:#a6e22e>render</span>() {
        <span style=color:#66d9ef>return</span> (
            <span style=color:#f92672>&lt;</span><span style=color:#a6e22e>Html</span><span style=color:#f92672>&gt;</span>
                <span style=color:#f92672>&lt;</span><span style=color:#a6e22e>Head</span><span style=color:#f92672>&gt;</span>
                    <span style=color:#f92672>&lt;</span><span style=color:#a6e22e>link</span> <span style=color:#a6e22e>rel</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;preconnect&#34;</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;https://fonts.gstatic.com&#34;</span><span style=color:#f92672>/&gt;</span>
                    <span style=color:#f92672>&lt;</span><span style=color:#a6e22e>link</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;https://fonts.googleapis.com/css2?family=Big+Shoulders+Display:wght@800&amp;display=swap&#34;</span> <span style=color:#a6e22e>rel</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;stylesheet&#34;</span><span style=color:#f92672>/&gt;</span>
                <span style=color:#f92672>&lt;</span><span style=color:#960050;background-color:#1e0010>/Head&gt;</span>
                <span style=color:#f92672>&lt;</span><span style=color:#a6e22e>body</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;bg-gradient-to-r from-yellow-400 via-black-500 to-pink-500&#34;</span><span style=color:#f92672>&gt;</span>
                <span style=color:#f92672>&lt;</span><span style=color:#a6e22e>Main</span> <span style=color:#f92672>/&gt;</span>
                <span style=color:#f92672>&lt;</span><span style=color:#a6e22e>NextScript</span> <span style=color:#f92672>/&gt;</span>
                <span style=color:#f92672>&lt;</span><span style=color:#960050;background-color:#1e0010>/body&gt;</span>
            <span style=color:#f92672>&lt;</span><span style=color:#960050;background-color:#1e0010>/Html&gt;</span>
        )
    }
}

<span style=color:#66d9ef>export</span> <span style=color:#66d9ef>default</span> <span style=color:#a6e22e>MyDocument</span>
</code></pre></div><p>Then toss the custom font information into the tailwind css config</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=color:#a6e22e>module</span>.<span style=color:#a6e22e>exports</span> <span style=color:#f92672>=</span> {
  <span style=color:#a6e22e>purge</span><span style=color:#f92672>:</span> [
    <span style=color:#e6db74>&#39;./public/**/*.html&#39;</span>,
    <span style=color:#e6db74>&#39;./src/**/*.{js,jsx,ts,tsx}&#39;</span>,
  ],
  <span style=color:#a6e22e>darkMode</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>false</span>, <span style=color:#75715e>// or &#39;media&#39; or &#39;class&#39;
</span><span style=color:#75715e></span>  <span style=color:#a6e22e>theme</span><span style=color:#f92672>:</span> {
    <span style=color:#a6e22e>extend</span><span style=color:#f92672>:</span> {
      <span style=color:#a6e22e>fontFamily</span><span style=color:#f92672>:</span> {
        <span style=color:#e6db74>&#39;big-shoulders&#39;</span><span style=color:#f92672>:</span> [<span style=color:#e6db74>&#39;&#34;Big Shoulders Display&#34;&#39;</span>]
      }
    },
  },
  <span style=color:#a6e22e>variants</span><span style=color:#f92672>:</span> {
    <span style=color:#a6e22e>extend</span><span style=color:#f92672>:</span> {},
  },
  <span style=color:#a6e22e>plugins</span><span style=color:#f92672>:</span> [],
}
</code></pre></div><p>So at this point the code is little more than a nice playground
to get started creating an application. In the upcoming sections
im going to break into how to fetch and work with nextjs as a simple
crud application.</p>
</section>
<div class=post-tags>
<nav class="nav tags">
<ul class=tags>
<li><a href=/tags/nextjs>nextjs</a></li>
</ul>
</nav>
</div>
</article>
</main>
<footer>
<hr><a class=soc href=https://github.com/bneil title=Github><i data-feather=github></i></a>|<a class=soc href=https://twitter.com/benneil/ title=Twitter><i data-feather=twitter></i></a>|<a class=soc href=https://www.linkedin.com/in/readyplayer1/ title=LinkedIn><i data-feather=linkedin></i></a>|<a class=soc href=mailto:ben@neil-concepts.com title=Email><i data-feather=mail></i></a>|<a class=soc href=https://coderwall.com/bneil title=Coderwall><i data-feather=code></i></a>|<a class=soc href=https://medium.com/@bneil/about title=Medium><i data-feather=book></i></a>|<a class=soc href=https://bneil.me/index.xml title=rss><i data-feather=rss></i></a>|⚡️
2021 © bneil | site was last updated: Oct 4, 2021
</footer>
<div class=h-card style=display:none>
<span class=p-name>Ben Neil</span>
<span class=p-given-name>Ben</span>
<abbr class=p-additional-name>E.</abbr>
<span class=p-family-name>Neil</span>
<span class=p-nickname>bneil</span> (IRC)
<img class=u-photo src=https://bneil.me/images/avatar.gif>
<a class=u-url href=https://bneil.me>w</a>,
<a class=u-email href=mailto:ben@neil-conceptscom>e</a>
<div class=p-category>programmer</div>
<div class=p-note>Now is tea time</div>
</div>
<script defer src=https://static.cloudflareinsights.com/beacon.min.js data-cf-beacon='{"token": "cc4d2eca67bc471d83269a9e66e60551"}'></script>
<script>var clicky_site_ids=clicky_site_ids||[];clicky_site_ids.push(101323590)</script>
<script async src=//static.getclicky.com/js></script>
<noscript><p><img alt=Clicky width=1 height=1 src=//in.getclicky.com/101323590ns.gif></p></noscript><script>feather.replace()</script></div>
</body>
</html>